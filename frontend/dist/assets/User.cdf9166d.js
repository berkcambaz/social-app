import{_ as x,o as i,c as v,z as p,d as C,e as t,v as M,s as u,i as I,h as U,r as $,m as N,g as y,w,t as o,b as n,x as m,a as h,L as S,A as V,B as E,F,k as B,C as H,j as T,p as L,l as j}from"./index.f7b1a3c4.js";import{c as z}from"./loader.d2f950ea.js";import{I as P}from"./Input.b131c7fc.js";import{B as k}from"./Button.76f269e3.js";const D={},A={width:"32",height:"32",viewBox:"0 0 24 24","stroke-width":"1",stroke:"#000000",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},q=p('<path stroke="none" d="M0 0h24v24H0z" fill="none"></path><rect x="4" y="5" width="16" height="16" rx="2"></rect><line x1="16" y1="3" x2="16" y2="7"></line><line x1="8" y1="3" x2="8" y2="7"></line><line x1="4" y1="11" x2="20" y2="11"></line><line x1="11" y1="15" x2="12" y2="15"></line><line x1="12" y1="15" x2="12" y2="18"></line>',7),G=[q];function J(e,_){return i(),v("svg",A,G)}const K=x(D,[["render",J]]),O={key:0,class:"hover-menu"},Q={class:"container"},R=C({__name:"HoverMenu",props:{show:{type:Boolean}},setup(e){return(_,s)=>e.show?(i(),v("div",O,[t("div",{class:"background",onClick:s[0]||(s[0]=c=>e.show=!1)}),t("div",Q,[M(_.$slots,"default",{},void 0,!0)])])):u("",!0)}});const W=x(R,[["__scopeId","data-v-de2bd98d"]]),X={class:"text-section"},Y={for:"username"},Z={class:"text-section"},ee={for:"bio"},te=m("done"),se={key:0,class:"loader-container"},oe=C({__name:"UserEditProfile",props:{editingProfile:{type:Boolean},user:null},setup(e){const{editingProfile:_,user:s}=e,{t:c}=I.global,b=U(),g=z(),d=$({limit:32,current:0,value:"",type:"single"}),f=$({limit:256,current:0,value:"",type:"multi"}),a=async()=>{const l=d.value.value,r=f.value.value;return l.length===0||l.length>32||r.length>256?!1:(await g.value.wait(b.editUser(l,r)),!0)};return N(()=>{!s||(d.value.value=s.name,d.value.current=s.name.length,f.value.value=s.bio,f.value.current=s.bio.length)}),(l,r)=>(i(),y(W,{show:e.editingProfile},{default:w(()=>[t("div",X,[t("label",Y,o(n(c)("username")),1),m(" "+o(`${d.value.current}/${d.value.limit}`),1)]),h(P,{type:"text",text:d.value,id:"username"},null,8,["text"]),t("div",Z,[t("label",ee,o(n(c)("bio")),1),m(" "+o(`${f.value.current}/${f.value.limit}`),1)]),h(P,{type:"text",text:f.value,id:"bio"},null,8,["text"]),h(k,{onClick:r[0]||(r[0]=async()=>{await a()&&(e.editingProfile=!1)}),disabled:n(g).status},{default:w(()=>[te]),_:1},8,["disabled"]),n(g).status?(i(),v("div",se,[h(S)])):u("",!0)]),_:1},8,["show"]))}});const ne=x(oe,[["__scopeId","data-v-41d9c0cb"]]),le=e=>(L("data-v-557befb6"),e=e(),j(),e),ie={key:1,class:"user"},ae={key:2,class:"user"},re={key:3,class:"user"},ue={class:"username"},ce={class:"usertag-container"},de={class:"usertag"},fe=le(()=>t("span",null,"@",-1)),ve={class:"dynamic"},_e={key:0,class:"follows-you"},he={class:"date"},ge={class:"bottom"},me={class:"follow-container"},ye=C({__name:"User",props:{user:null,searching:{type:Boolean}},setup(e){const _=U(),{t:s}=I.global,c=$(!1),b=a=>{a!==null&&_.follow(a)},g=a=>{a!==null&&B.push(`/user/${a.tag}/followers`)},d=a=>{a!==null&&B.push(`/user/${a.tag}/followings`)},f=()=>{c.value=!1,H(()=>{c.value=!0})};return(a,l)=>(i(),v(F,null,[c.value&&e.user?(i(),y(ne,{key:0,editingProfile:c.value,user:e.user},null,8,["editingProfile","user"])):u("",!0),!e.user&&!e.searching?(i(),v("div",ie,o(n(s)("user_not_found")),1)):u("",!0),!e.user&&e.searching?(i(),v("div",ae,[h(S)])):u("",!0),e.user?(i(),v("div",re,[t("div",ue,o(e.user.name),1),t("div",ce,[t("span",de,[fe,t("span",ve,o(e.user.tag),1),e.user.follower?(i(),v("span",_e,o(n(s)("follows_you")),1)):u("",!0)])]),V(t("div",{class:"bio"},o(e.user.bio),513),[[E,e.user.bio.length>0]]),t("div",he,[h(K),t("span",null,o(n(T).unix(e.user.date).format("ll")),1)]),t("div",ge,[t("span",me,[t("span",{class:"followings",onClick:l[0]||(l[0]=r=>d(e.user))},o(`${e.user.followingCount} ${n(s)("following_count",e.user.followingCount)}`),1),t("span",{class:"followers",onClick:l[1]||(l[1]=r=>g(e.user))},o(`${e.user.followerCount} ${n(s)("follower_count",e.user.followerCount)}`),1)]),e.user.id!==n(_).current?(i(),y(k,{key:0,class:"button",onClick:l[2]||(l[2]=r=>b(e.user))},{default:w(()=>[m(o(e.user.following?n(s)("unfollow"):n(s)("follow")),1)]),_:1})):u("",!0),e.user.id===n(_).current?(i(),y(k,{key:1,class:"button",onClick:l[3]||(l[3]=r=>f())},{default:w(()=>[m(o(n(s)("edit_profile")),1)]),_:1})):u("",!0)])])):u("",!0)],64))}});const ke=x(ye,[["__scopeId","data-v-557befb6"]]);export{ke as U};
