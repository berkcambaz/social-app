import{U as p}from"./User.0684f20a.js";import{d as w,k as g,j as U,u as h,r as y,o as L,g as k,c as i,e as P,f as t,h as d,m as f,F as _,i as B,a as r,_ as V}from"./index.60ba7ea9.js";import{P as x}from"./Post.d525c73a.js";import{c as m,L as b}from"./Loader.e6069d97.js";import"./date.6932e95c.js";const E=w({__name:"UserView",setup(C){const a=g.currentRoute.value.params.tag,n=U(),s=h(),e=y(null),u=m(),o=m(),c=v=>{window.scrollY<=0&&e.value!==null&&s.fetchUserPosts(e.value.id,"newer"),window.innerHeight+window.scrollY>=document.body.offsetHeight&&e.value!==null&&s.fetchUserPosts(e.value.id,"older")};return(async()=>{a!==void 0&&(await u.value.wait(n.fetchUserByTag(a)),e.value=n.getUserByTag(a),e.value!==null&&o.value.wait(s.fetchUserPosts(e.value.id,"newer",!0)))})(),L(()=>{window.addEventListener("scroll",c)}),k(()=>{window.removeEventListener("scroll",c)}),(v,H)=>(r(),i(_,null,[P(p,{user:e.value,searching:t(u).status},null,8,["user","searching"]),t(o).status?(r(),d(b,{key:0,class:"loader"})):f("",!0),!t(o).status&&e.value?(r(!0),i(_,{key:1},B(t(s).getUserPosts(e.value),l=>(r(),d(x,{post:l,key:l.id},null,8,["post"]))),128)):f("",!0)],64))}});const M=V(E,[["__scopeId","data-v-95cb840c"]]);export{M as default};
