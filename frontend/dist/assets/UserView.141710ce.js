import{U as d}from"./User.bdadf78f.js";import{d as f,k as m,j as v,u as w,r as p,o as U,g,c as l,e as h,F as u,i as _,f as P,l as k,a as t,h as y}from"./index.734c59c0.js";import{P as B}from"./Post.f1bcad7e.js";import{c as L}from"./Loader.2109db75.js";import"./date.6932e95c.js";const Y=f({__name:"UserView",setup(E){const r=m.currentRoute.value.params.tag,o=v(),s=w(),e=p(null),c=L(),a=i=>{window.scrollY<=0&&e.value!==null&&s.fetchUserPosts(e.value.id,"newer"),window.innerHeight+window.scrollY>=document.body.offsetHeight&&e.value!==null&&s.fetchUserPosts(e.value.id,"older")};return(async()=>{r!==void 0&&(await c.value.wait(o.fetchUserByTag(r)),e.value=o.getUserByTag(r),e.value!==null&&s.fetchUserPosts(e.value.id,"newer",!0))})(),U(()=>{window.addEventListener("scroll",a)}),g(()=>{window.removeEventListener("scroll",a)}),(i,x)=>(t(),l(u,null,[h(d,{user:e.value},null,8,["user"]),e.value?(t(!0),l(u,{key:0},_(P(s).getUserPosts(e.value),n=>(t(),y(B,{post:n,key:n.id},null,8,["post"]))),128)):k("",!0)],64))}});export{Y as default};
