import{U as p}from"./User.44aac359.js";import{d as w,k as U,j as g,u as h,r as y,o as L,g as k,c,e as P,f as a,h as i,l as d,F as f,i as B,a as t,_ as V}from"./index.b1d055d6.js";import{P as x}from"./Post.7c42e077.js";import{c as _,L as E}from"./Loader.4afae494.js";import"./date.6932e95c.js";const C=w({__name:"UserView",setup(F){const r=U.currentRoute.value.params.tag,n=g(),s=h(),e=y(null),v=_(),o=_(),u=m=>{window.scrollY<=0&&e.value!==null&&s.fetchUserPosts(e.value.id,"newer"),window.innerHeight+window.scrollY>=document.body.offsetHeight&&e.value!==null&&s.fetchUserPosts(e.value.id,"older")};return(async()=>{r!==void 0&&(await v.value.wait(n.fetchUserByTag(r)),e.value=n.getUserByTag(r),e.value!==null&&o.value.wait(s.fetchUserPosts(e.value.id,"newer",!0)))})(),L(()=>{window.addEventListener("scroll",u)}),k(()=>{window.removeEventListener("scroll",u)}),(m,N)=>(t(),c(f,null,[P(p,{user:e.value},null,8,["user"]),a(o).status?(t(),i(E,{key:0,class:"loader"})):d("",!0),!a(o).status&&e.value?(t(!0),c(f,{key:1},B(a(s).getUserPosts(e.value),l=>(t(),i(x,{post:l,key:l.id},null,8,["post"]))),128)):d("",!0)],64))}});const M=V(C,[["__scopeId","data-v-92c02e6d"]]);export{M as default};
