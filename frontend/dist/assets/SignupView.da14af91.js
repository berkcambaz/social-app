import{d as T,i as U,h as D,r as n,o as d,c as m,e as l,a as h,b as s,n as o,t as u,s as w,w as G,g as R,z as j,G as q,L as H,_ as J}from"./index.155a4c1b.js";import{c as K}from"./loader.21f57adf.js";import{I as $}from"./Input.72285916.js";import{B as M}from"./Button.ca889a72.js";var O=/^[-!#$%&'*+\/0-9=?A-Z^_a-z{|}~](\.?[-!#$%&'*+\/0-9=?A-Z^_a-z`{|}~])*@[a-zA-Z0-9](-*\.?[a-zA-Z0-9])*\.[a-zA-Z](-?[a-zA-Z0-9])+$/,Q=function(c){if(!c||c.length>254)return!1;var a=O.test(c);if(!a)return!1;var p=c.split("@");if(p[0].length>64)return!1;var x=p[1].split(".");return!x.some(function(v){return v.length>63})};const W={class:"signup"},X={key:0,class:"info"},Y={key:0,class:"info"},ee={key:0,class:"info"},se=T({__name:"SignupView",setup(c){const{t:a}=U.global,p=q(),x=D(),v=n({limit:0,current:0,value:"",type:"single"}),y=n({limit:0,current:0,value:"",type:"single"}),B=n({limit:0,current:0,value:"",type:"single"}),I=K(),g=n(!1),f=n(!1),_=n(!1),e=n({usertagLength:!0,usertagCharacters:!1,passwordLength:!0,emailValid:!0}),C=()=>{const r=v.value.value,t=y.value.value,i=B.value.value;I.value.wait(x.signup(r,t,i))},L=()=>e.value.usertagCharacters||e.value.usertagLength,V=()=>e.value.emailValid,k=()=>e.value.passwordLength,z=()=>{const r=v.value.value;e.value.usertagLength=r.length<3||r.length>16,e.value.usertagCharacters=!/^[a-z0-9]*$/.test(r)},E=()=>{const r=y.value.value;e.value.emailValid=!Q(r)},A=()=>{const r=B.value.value;e.value.passwordLength=r.length<8},F=()=>{g.value=!0},Z=()=>{g.value=!1},b=()=>{f.value=!0},N=()=>{f.value=!1},P=()=>{_.value=!0},S=()=>{_.value=!1};return(r,t)=>(d(),m("div",W,[l("div",null,[h($,{type:"text",text:v.value,placeholder:`${s(a)("usertag")}...`,onFocus:F,onBlur:Z,class:o({error:L()&&!g.value}),onInput:t[0]||(t[0]=i=>z())},null,8,["text","placeholder","class"]),g.value?(d(),m("div",X,[l("div",{class:o({error:e.value.usertagLength})},u(s(a)("error_usertag_length")),3),l("div",{class:o({error:e.value.usertagCharacters})},u(s(a)("error_usertag_letters")),3),l("div",{class:o({error:e.value.usertagCharacters})},u(s(a)("error_usertag_numbers")),3)])):w("",!0)]),l("div",null,[h($,{type:"email",text:y.value,placeholder:`${s(a)("email")}...`,onFocus:b,onBlur:N,class:o({error:V()&&!f.value}),onInput:t[1]||(t[1]=i=>E())},null,8,["text","placeholder","class"]),f.value?(d(),m("div",Y,[l("div",{class:o({error:e.value.emailValid})},u(s(a)("error_email_valid")),3)])):w("",!0)]),l("div",null,[h($,{type:"password",text:B.value,placeholder:`${s(a)("password")}...`,onFocus:P,onBlur:S,class:o({error:k()&&!_.value}),onInput:t[2]||(t[2]=i=>A())},null,8,["text","placeholder","class"]),_.value?(d(),m("div",ee,[l("div",{class:o({error:e.value.passwordLength})},u(s(a)("error_password_length")),3)])):w("",!0)]),h(M,{onClick:t[3]||(t[3]=i=>C()),disabled:s(I).status},{default:G(()=>[j(u(s(a)("signup")),1)]),_:1},8,["disabled"]),l("span",{class:"text",onClick:t[4]||(t[4]=i=>s(p).push("/login"))},u(s(a)("i_already_have_an_account")),1),s(I).status?(d(),R(H,{key:0})):w("",!0)]))}});const oe=J(se,[["__scopeId","data-v-2d8e746f"]]);export{oe as default};
