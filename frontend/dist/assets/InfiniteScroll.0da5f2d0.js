import{r as t,j as g,F as h,a as s,b as i}from"./index.144b30fb.js";function y({children:m,onInit:c,onTop:f,onBottom:l,initSpinner:p,topSpinner:w,bottomSpinner:b}){const x=()=>a.current===document.body.offsetHeight,u=()=>window.scrollY<=0,n=()=>window.innerHeight+window.scrollY+1>=document.body.offsetHeight,[e,o]=t.exports.useState({top:!1,mid:!1,bottom:!1}),a=t.exports.useRef(document.body.offsetHeight),r=t.exports.useRef(!1),d=()=>{if(!x())return void(a.current=document.body.offsetHeight);u()&&!r.current?o({...e,top:!0}):n()&&!r.current&&o({...e,bottom:!0}),r.current=u()||n()};return t.exports.useEffect(()=>{!e.mid||(async()=>(c&&await c(),o({...e,mid:!1})))()},[e.mid]),t.exports.useEffect(()=>{!e.top||(async()=>(f&&await f(),o({...e,top:!1})))()},[e.top]),t.exports.useEffect(()=>{if(!e.bottom){n()&&window.scrollTo(0,window.scrollY-1),r.current=!1;return}(async()=>(l&&await l(),o({...e,bottom:!1})))()},[e.bottom]),t.exports.useEffect(()=>(o({...e,mid:!0}),window.addEventListener("scroll",d),()=>window.removeEventListener("scroll",d)),[]),g(h,{children:[e.top&&(w||s(i,{})),e.mid?p||s(i,{}):s("div",{children:m}),e.bottom&&(b||s(i,{}))]})}export{y as I};
