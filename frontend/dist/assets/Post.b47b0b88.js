import{_ as h,o as i,c as r,e as s,d as g,u as w,h as B,r as C,b as f,a,L as P,t as l,j as v,n as m,k as b,p as M,l as S}from"./index.d473d418.js";import{B as U}from"./BookmarkIcon.2a060479.js";import{c as j}from"./loader.17ebd677.js";const z={},H={width:"32",height:"32",viewBox:"0 0 24 24","stroke-width":"1",stroke:"#000000",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},L=s("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"},null,-1),N=s("path",{d:"M19.5 13.572l-7.5 7.428l-7.5 -7.428m0 0a5 5 0 1 1 7.5 -6.566a5 5 0 1 1 7.5 6.572"},null,-1),V=[L,N];function D(t,o){return i(),r("svg",H,V)}const E=h(z,[["render",D]]),q={},A={width:"32",height:"32",viewBox:"0 0 24 24","stroke-width":"1",stroke:"#000000",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},F=s("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"},null,-1),G=s("circle",{cx:"5",cy:"12",r:"1"},null,-1),J=s("circle",{cx:"12",cy:"12",r:"1"},null,-1),K=s("circle",{cx:"19",cy:"12",r:"1"},null,-1),O=[F,G,J,K];function Q(t,o){return i(),r("svg",A,O)}const R=h(q,[["render",Q]]),T=t=>(M("data-v-6339fd9f"),t=t(),S(),t),W={key:0,class:"post"},X={key:1,class:"post"},Y={class:"top"},Z={class:"top-container"},ss={class:"username dynamic"},ts=T(()=>s("span",null,"@",-1)),es={class:"usertag dynamic"},os=["title"],ns={class:"mid"},cs={class:"bottom"},ls={class:"count"},as=g({__name:"Post",props:{post:null},setup(t){const{post:o}=t,d=w(),u=B(),n=C(null),k=j(),$=()=>{n.value!==null&&b.push(`/user/${n.value.tag}`)},x=c=>{c!==null&&d.like(c)},y=c=>{c!==null&&d.bookmark(c)},I=()=>{o.userId===u.current&&o!==null&&d.delete(o)},p=async()=>{n.value=u.getUserById(o.userId),n.value===null&&(await k.value.wait(u.fetchUserById(o.userId)),p())};return p(),(c,e)=>!n.value||f(k).status?(i(),r("div",W,[a(P)])):(i(),r("div",X,[s("div",Y,[s("div",Z,[s("span",{class:"user-info",onClick:e[0]||(e[0]=_=>$())},[s("span",ss,l(n.value.name),1),ts,s("span",es,l(n.value.tag),1)]),s("span",{class:"date",title:f(v).unix(t.post.date).format("lll")},l(f(v).unix(t.post.date).fromNow()),9,os)]),s("span",null,[a(R,{class:"icon more",onClick:e[1]||(e[1]=_=>I())})])]),s("div",ns,l(t.post.content),1),s("div",cs,[s("span",ls,l(t.post.likeCount),1),a(E,{class:m(["icon",{active:t.post.liked}]),onClick:e[2]||(e[2]=_=>x(t.post))},null,8,["class"]),a(U,{class:m(["icon",{active:t.post.bookmarked}]),onClick:e[3]||(e[3]=_=>y(t.post))},null,8,["class"])])]))}});const us=h(as,[["__scopeId","data-v-6339fd9f"]]);export{us as P};
