import{d as p,u as m,r as d,o as f,a,c as l,b as c,e as h,S as g,t as w,f as i,_ as P,g as y,F as _,h as x,i as k}from"./index.e12cdffc.js";import{P as F}from"./Post.8a74a457.js";import"./date.6932e95c.js";import"./Loader.01b90a30.js";const C={class:"post-create"},I={class:"bottom"},B=p({__name:"PostCreate",setup(v){const t=m(),s=d(null),o=d({limit:256,current:0}).value,n=()=>{const e=s.value;!e||(o.current=e.value.length,e.style.height="0",e.style.height=e.scrollHeight+"px")},r=()=>{const e=s.value;!e||e.value.length>o.limit||(t.post(e.value),e.value="",n())};return f(()=>{n()}),(e,u)=>(a(),l("div",C,[c("textarea",{class:"input",ref_key:"contentInput",ref:s,placeholder:"Write your thoughts...",onInput:n},null,544),c("div",I,[h(g,{class:"icon",onClick:u[0]||(u[0]=S=>r())}),c("span",null,w(`${i(o).current}/${i(o).limit}`),1)])]))}});const H=P(B,[["__scopeId","data-v-a39c4d42"]]),V=p({__name:"HomeView",setup(v){const t=m();t.fetchFeedPosts("newer",!0);const s=o=>{window.scrollY<=0&&t.fetchFeedPosts("newer"),window.innerHeight+window.scrollY>=document.body.offsetHeight&&t.fetchFeedPosts("older")};return f(()=>{window.addEventListener("scroll",s)}),y(()=>{window.removeEventListener("scroll",s)}),(o,n)=>(a(),l(_,null,[h(H),(a(!0),l(_,null,x(i(t).getFeedPosts,r=>(a(),k(F,{post:r,key:r.id},null,8,["post"]))),128))],64))}});export{V as default};
