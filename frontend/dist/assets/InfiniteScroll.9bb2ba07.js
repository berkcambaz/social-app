import{r as o,j as p,F as w,a as s,k as r}from"./index.aafe005b.js";function x({children:a,onInit:i,onTop:n,onBottom:f}){const u=()=>l.current===document.body.offsetHeight,m=()=>window.scrollY<=0,c=()=>window.innerHeight+window.scrollY+1>=document.body.offsetHeight,[t,e]=o.exports.useState({top:!1,mid:!1,bottom:!1}),l=o.exports.useRef(document.body.offsetHeight),d=()=>{if(!u())return void(l.current=document.body.offsetHeight);m()?e({...t,top:!0}):c()&&e({...t,bottom:!0})};return o.exports.useEffect(()=>{!t.mid||(async()=>(i&&await i(),e({...t,mid:!1})))()},[t.mid]),o.exports.useEffect(()=>{!t.top||(async()=>(n&&await n(),e({...t,top:!1})))()},[t.top]),o.exports.useEffect(()=>{if(!t.bottom){c()&&window.scrollTo(0,window.scrollY-1);return}(async()=>(f&&await f(),e({...t,bottom:!1})))()},[t.bottom]),o.exports.useEffect(()=>(e({...t,mid:!0}),window.addEventListener("scroll",d),()=>window.removeEventListener("scroll",d)),[]),p(w,{children:[t.top&&s(r,{}),t.mid?s(r,{}):s("div",{children:a}),t.bottom&&s(r,{})]})}export{x as I};
