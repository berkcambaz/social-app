import{d as $,j as P,r as u,c as g,b as a,n as t,l as _,f as I,h as U,a as i,z as S,_ as N}from"./index.24049e98.js";import{c as j,L as R}from"./Loader.efc6bd8f.js";var q=/^[-!#$%&'*+\/0-9=?A-Z^_a-z{|}~](\.?[-!#$%&'*+\/0-9=?A-Z^_a-z`{|}~])*@[a-zA-Z0-9](-*\.?[a-zA-Z0-9])*\.[a-zA-Z](-?[a-zA-Z0-9])+$/,D=function(o){if(!o||o.length>254)return!1;var h=q.test(o);if(!h)return!1;var v=o.split("@");if(v[0].length>64)return!1;var r=v[1].split(".");return!r.some(function(n){return n.length>63})};const G={class:"signup"},H={key:0,class:"info"},J={key:0,class:"info"},K={key:0,class:"info"},M=["disabled"],O=$({__name:"SignupView",setup(o){const h=S(),v=P(),r=u(),n=u(),c=u(),m=j(),d=u(!1),p=u(!1),f=u(!1),e=u({usertagLength:!0,usertagCharacters:!1,passwordLength:!0,emailValid:!0}),y=()=>{if(!r.value||!n.value||!c.value)return;const s=r.value.value,l=n.value.value,w=c.value.value;m.value.wait(v.signup(s,l,w))},k=()=>e.value.usertagCharacters||e.value.usertagLength,b=()=>e.value.emailValid,L=()=>e.value.passwordLength,z=()=>{if(!r.value)return;const s=r.value.value;e.value.usertagLength=s.length<3||s.length>16,e.value.usertagCharacters=!/^[a-z0-9]*$/.test(s)},B=()=>{if(!n.value)return;const s=n.value.value;e.value.emailValid=!D(s)},C=()=>{if(!c.value)return;const s=c.value.value;e.value.passwordLength=s.length<8},V=()=>{d.value=!0},E=()=>{d.value=!1},x=()=>{p.value=!0},A=()=>{p.value=!1},F=()=>{f.value=!0},Z=()=>{f.value=!1};return(s,l)=>(i(),g("div",G,[a("div",null,[a("input",{type:"text",class:t(["input",{error:k()&&!d.value}]),ref_key:"usertagInput",ref:r,placeholder:"usertag...",onInput:z,onFocus:V,onBlur:E},null,34),d.value?(i(),g("div",H,[a("div",{class:t({error:e.value.usertagLength})},"must be 3 - 16 characters",2),a("div",{class:t({error:e.value.usertagCharacters})},"can contain lowercase letters a-z",2),a("div",{class:t({error:e.value.usertagCharacters})},"can contains numbers 0-9",2)])):_("",!0)]),a("div",null,[a("input",{type:"email",class:t(["input",{error:b()&&!p.value}]),ref_key:"emailInput",ref:n,placeholder:"email...",onInput:B,onFocus:x,onBlur:A},null,34),p.value?(i(),g("div",J,[a("div",{class:t({error:e.value.emailValid})},"must be valid",2)])):_("",!0)]),a("div",null,[a("input",{type:"password",class:t(["input",{error:L()&&!f.value}]),ref_key:"passwordInput",ref:c,placeholder:"password...",onInput:C,onFocus:F,onBlur:Z},null,34),f.value?(i(),g("div",K,[a("div",{class:t({error:e.value.passwordLength})},"must be at least 8 characters",2)])):_("",!0)]),a("button",{class:"button",onClick:l[0]||(l[0]=w=>y()),disabled:I(m).status},"signup",8,M),a("span",{class:"text",onClick:l[1]||(l[1]=w=>I(h).push("/login"))},"i already have an account"),I(m).status?(i(),U(R,{key:0})):_("",!0)]))}});const W=N(O,[["__scopeId","data-v-7423b6df"]]);export{W as default};
