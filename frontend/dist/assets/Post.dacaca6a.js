import{_ as h,o as i,c as r,b as s,d as I,u as w,h as B,r as C,g as f,a as l,L as P,t as a,n as v,i as b,p as M,j as S}from"./index.d5a01e50.js";import{B as U}from"./BookmarkIcon.e6a0a797.js";import{d as m}from"./date.6932e95c.js";import{c as j}from"./loader.624a21b3.js";const z={},H={width:"32",height:"32",viewBox:"0 0 24 24","stroke-width":"1",stroke:"#000000",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},L=s("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"},null,-1),N=s("path",{d:"M19.5 13.572l-7.5 7.428l-7.5 -7.428m0 0a5 5 0 1 1 7.5 -6.566a5 5 0 1 1 7.5 6.572"},null,-1),V=[L,N];function D(t,e){return i(),r("svg",H,V)}const E=h(z,[["render",D]]),q={},A={width:"32",height:"32",viewBox:"0 0 24 24","stroke-width":"1",stroke:"#000000",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},F=s("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"},null,-1),G=s("circle",{cx:"5",cy:"12",r:"1"},null,-1),J=s("circle",{cx:"12",cy:"12",r:"1"},null,-1),K=s("circle",{cx:"19",cy:"12",r:"1"},null,-1),O=[F,G,J,K];function Q(t,e){return i(),r("svg",A,O)}const R=h(q,[["render",Q]]),T=t=>(M("data-v-6339fd9f"),t=t(),S(),t),W={key:0,class:"post"},X={key:1,class:"post"},Y={class:"top"},Z={class:"top-container"},ss={class:"username dynamic"},ts=T(()=>s("span",null,"@",-1)),os={class:"usertag dynamic"},es=["title"],ns={class:"mid"},cs={class:"bottom"},as={class:"count"},ls=I({__name:"Post",props:{post:null},setup(t){const{post:e}=t,d=w(),u=B(),n=C(null),p=j(),$=()=>{n.value!==null&&b.push(`/user/${n.value.tag}`)},x=c=>{c!==null&&d.like(c)},y=c=>{c!==null&&d.bookmark(c)},g=()=>{e.userId===u.current&&e!==null&&d.delete(e)},k=async()=>{n.value=u.getUserById(e.userId),n.value===null&&(await p.value.wait(u.fetchUserById(e.userId)),k())};return k(),(c,o)=>!n.value||f(p).status?(i(),r("div",W,[l(P)])):(i(),r("div",X,[s("div",Y,[s("div",Z,[s("span",{class:"user-info",onClick:o[0]||(o[0]=_=>$())},[s("span",ss,a(n.value.name),1),ts,s("span",os,a(n.value.tag),1)]),s("span",{class:"date",title:f(m).unix(t.post.date).format("lll")},a(f(m).unix(t.post.date).fromNow()),9,es)]),s("span",null,[l(R,{class:"icon more",onClick:o[1]||(o[1]=_=>g())})])]),s("div",ns,a(t.post.content),1),s("div",cs,[s("span",as,a(t.post.likeCount),1),l(E,{class:v(["icon",{active:t.post.liked}]),onClick:o[2]||(o[2]=_=>x(t.post))},null,8,["class"]),l(U,{class:v(["icon",{active:t.post.bookmarked}]),onClick:o[3]||(o[3]=_=>y(t.post))},null,8,["class"])])]))}});const _s=h(ls,[["__scopeId","data-v-6339fd9f"]]);export{_s as P};
