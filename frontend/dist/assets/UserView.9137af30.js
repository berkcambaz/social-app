import{U as p}from"./User.fd9a88a2.js";import{d as w,k as g,j as U,u as h,r as y,e as L,f as k,c as i,a as P,g as t,h as d,m as f,F as m,i as B,o as r,_ as V}from"./index.b68e357f.js";import{P as x}from"./Post.83147c6c.js";import{c as _,L as b}from"./Loader.3ff1853c.js";import"./date.6932e95c.js";import"./Button.aeb2ade2.js";const E=w({__name:"UserView",setup(C){const o=g.currentRoute.value.params.tag,n=U(),s=h(),e=y(null),u=_(),a=_(),c=v=>{window.scrollY<=0&&e.value!==null&&s.fetchUserPosts(e.value.id,"newer"),window.innerHeight+window.scrollY>=document.body.offsetHeight&&e.value!==null&&s.fetchUserPosts(e.value.id,"older")};return(async()=>{o!==void 0&&(await u.value.wait(n.fetchUserByTag(o)),e.value=n.getUserByTag(o),e.value!==null&&a.value.wait(s.fetchUserPosts(e.value.id,"newer",!0)))})(),L(()=>{window.addEventListener("scroll",c)}),k(()=>{window.removeEventListener("scroll",c)}),(v,H)=>(r(),i(m,null,[P(p,{user:e.value,searching:t(u).status},null,8,["user","searching"]),t(a).status?(r(),d(b,{key:0,class:"loader"})):f("",!0),!t(a).status&&e.value?(r(!0),i(m,{key:1},B(t(s).getUserPosts(e.value),l=>(r(),d(x,{post:l,key:l.id},null,8,["post"]))),128)):f("",!0)],64))}});const R=V(E,[["__scopeId","data-v-95cb840c"]]);export{R as default};
