import{_ as d,o as i,c as a,b as s,d as y,u as I,j as B,r as C,g as f,a as r,t as l,n as p,k as M,p as P,l as b}from"./index.dd9a2301.js";import{d as m}from"./date.6932e95c.js";import{c as j,L as z}from"./Loader.503a8bf7.js";const H={},S={width:"32",height:"32",viewBox:"0 0 24 24","stroke-width":"1",stroke:"#000000",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},U=s("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"},null,-1),L=s("path",{d:"M19.5 13.572l-7.5 7.428l-7.5 -7.428m0 0a5 5 0 1 1 7.5 -6.566a5 5 0 1 1 7.5 6.572"},null,-1),N=[U,L];function V(t,e){return i(),a("svg",S,N)}const D=d(H,[["render",V]]),E={},q={width:"32",height:"32",viewBox:"0 0 24 24","stroke-width":"1",stroke:"#000000",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},A=s("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"},null,-1),F=s("path",{d:"M9 4h6a2 2 0 0 1 2 2v14l-5 -3l-5 3v-14a2 2 0 0 1 2 -2"},null,-1),G=[A,F];function J(t,e){return i(),a("svg",q,G)}const K=d(E,[["render",J]]),O={},Q={width:"32",height:"32",viewBox:"0 0 24 24","stroke-width":"1",stroke:"#000000",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},R=s("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"},null,-1),T=s("circle",{cx:"5",cy:"12",r:"1"},null,-1),W=s("circle",{cx:"12",cy:"12",r:"1"},null,-1),X=s("circle",{cx:"19",cy:"12",r:"1"},null,-1),Y=[R,T,W,X];function Z(t,e){return i(),a("svg",Q,Y)}const ss=d(O,[["render",Z]]),ts=t=>(P("data-v-6339fd9f"),t=t(),b(),t),es={key:0,class:"post"},os={key:1,class:"post"},ns={class:"top"},cs={class:"top-container"},ls={class:"username dynamic"},is=ts(()=>s("span",null,"@",-1)),as={class:"usertag dynamic"},rs=["title"],ds={class:"mid"},us={class:"bottom"},_s={class:"count"},hs=y({__name:"Post",props:{post:null},setup(t){const{post:e}=t,u=I(),_=B(),n=C(null),k=j(),$=()=>{n.value!==null&&M.push(`/user/${n.value.tag}`)},x=c=>{c!==null&&u.like(c)},g=c=>{c!==null&&u.bookmark(c)},w=()=>{e.userId===_.current&&e!==null&&u.delete(e)},v=async()=>{n.value=_.getUserById(e.userId),n.value===null&&(await k.value.wait(_.fetchUserById(e.userId)),v())};return v(),(c,o)=>!n.value||f(k).status?(i(),a("div",es,[r(z)])):(i(),a("div",os,[s("div",ns,[s("div",cs,[s("span",{class:"user-info",onClick:o[0]||(o[0]=h=>$())},[s("span",ls,l(n.value.name),1),is,s("span",as,l(n.value.tag),1)]),s("span",{class:"date",title:f(m).unix(t.post.date).format("lll")},l(f(m).unix(t.post.date).fromNow()),9,rs)]),s("span",null,[r(ss,{class:"icon more",onClick:o[1]||(o[1]=h=>w())})])]),s("div",ds,l(t.post.content),1),s("div",us,[s("span",_s,l(t.post.likeCount),1),r(D,{class:p(["icon",{active:t.post.liked}]),onClick:o[2]||(o[2]=h=>x(t.post))},null,8,["class"]),r(K,{class:p(["icon",{active:t.post.bookmarked}]),onClick:o[3]||(o[3]=h=>g(t.post))},null,8,["class"])])]))}});const ps=d(hs,[["__scopeId","data-v-6339fd9f"]]);export{ps as P};
