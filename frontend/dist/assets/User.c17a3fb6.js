import{_ as b,o as r,c as v,B as V,d as B,i as U,h as I,r as _,m as E,b as s,e as t,t as o,z as x,a as h,w as $,s as d,L as N,g as w,x as F,y as T,F as L,k as C,C as S,j}from"./index.155a4c1b.js";import{c as z}from"./loader.21f57adf.js";import{I as P}from"./Input.72285916.js";import{B as k}from"./Button.ca889a72.js";const D={},M={width:"32",height:"32",viewBox:"0 0 24 24","stroke-width":"1",stroke:"#000000",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},H=V('<path stroke="none" d="M0 0h24v24H0z" fill="none"></path><rect x="4" y="5" width="16" height="16" rx="2"></rect><line x1="16" y1="3" x2="16" y2="7"></line><line x1="8" y1="3" x2="8" y2="7"></line><line x1="4" y1="11" x2="20" y2="11"></line><line x1="11" y1="15" x2="12" y2="15"></line><line x1="12" y1="15" x2="12" y2="18"></line>',7),q=[H];function A(e,m){return r(),v("svg",M,q)}const G=b(D,[["render",A]]),J={key:0,class:"user-edit-profile"},K={class:"container"},O={class:"text-section"},Q={for:"username"},R={class:"text-section"},W={for:"bio"},X=x("done"),Y={key:0,class:"loader-container"},Z=B({__name:"UserEditProfile",props:{editingProfile:{type:Boolean},user:null},setup(e){const{editingProfile:m,user:l}=e,{t:f}=U.global,y=I(),g=z(),u=_({limit:32,current:0,value:"",type:"single"}),c=_({limit:256,current:0,value:"",type:"multi"}),i=async()=>{const n=u.value.value,a=c.value.value;return n.length===0||n.length>32||a.length>256?!1:(await g.value.wait(y.editUser(n,a)),!0)};return E(()=>{!l||(u.value.value=l.name,u.value.current=l.name.length,c.value.value=l.bio,c.value.current=l.bio.length)}),(n,a)=>e.editingProfile||s(g).status?(r(),v("div",J,[t("div",{class:"background",onClick:a[0]||(a[0]=ue=>e.editingProfile=!1)}),t("div",K,[t("div",O,[t("label",Q,o(s(f)("username")),1),x(" "+o(`${u.value.current}/${u.value.limit}`),1)]),h(P,{type:"text",text:u.value,id:"username"},null,8,["text"]),t("div",R,[t("label",W,o(s(f)("bio")),1),x(" "+o(`${c.value.current}/${c.value.limit}`),1)]),h(P,{type:"text",text:c.value,id:"bio"},null,8,["text"]),h(k,{onClick:a[1]||(a[1]=async()=>{await i()&&(e.editingProfile=!1)}),disabled:s(g).status},{default:$(()=>[X]),_:1},8,["disabled"]),s(g).status?(r(),v("div",Y,[h(N)])):d("",!0)])])):d("",!0)}});const p=b(Z,[["__scopeId","data-v-cbd011c3"]]),ee={key:1,class:"user"},te={key:2,class:"user"},se={key:3,class:"user"},ne={class:"username"},oe={class:"usertag"},le={class:"date"},ie={class:"bottom"},ae={class:"follow-container"},re=B({__name:"User",props:{user:null,searching:{type:Boolean}},setup(e){const m=I(),{t:l}=U.global,f=_(!1),y=i=>{i!==null&&m.follow(i)},g=i=>{i!==null&&C.push(`/user/${i.tag}/followers`)},u=i=>{i!==null&&C.push(`/user/${i.tag}/followings`)},c=()=>{f.value=!1,S(()=>{f.value=!0})};return(i,n)=>(r(),v(L,null,[f.value&&e.user?(r(),w(p,{key:0,editingProfile:f.value,user:e.user},null,8,["editingProfile","user"])):d("",!0),!e.user&&!e.searching?(r(),v("div",ee,o(s(l)("user_not_found")),1)):d("",!0),!e.user&&e.searching?(r(),v("div",te,[h(N)])):d("",!0),e.user?(r(),v("div",se,[t("div",ne,o(e.user.name),1),t("div",oe,"@"+o(e.user.tag),1),F(t("div",{class:"bio"},o(e.user.bio),513),[[T,e.user.bio.length>0]]),t("div",le,[h(G),t("span",null,o(s(j).unix(e.user.date).format("ll")),1)]),t("div",ie,[t("span",ae,[t("span",{class:"followings",onClick:n[0]||(n[0]=a=>u(e.user))},o(`${e.user.followingCount} ${s(l)("following_count",e.user.followingCount)}`),1),t("span",{class:"followers",onClick:n[1]||(n[1]=a=>g(e.user))},o(`${e.user.followerCount} ${s(l)("follower_count",e.user.followerCount)}`),1)]),e.user.id!==s(m).current?(r(),w(k,{key:0,class:"button",onClick:n[2]||(n[2]=a=>y(e.user))},{default:$(()=>[x(o(e.user.following?s(l)("unfollow"):s(l)("follow")),1)]),_:1})):d("",!0),e.user.id===s(m).current?(r(),w(k,{key:1,class:"button",onClick:n[3]||(n[3]=a=>c())},{default:$(()=>[x(o(s(l)("edit_profile")),1)]),_:1})):d("",!0)])])):d("",!0)],64))}});const ge=b(re,[["__scopeId","data-v-17435809"]]);export{ge as U};
