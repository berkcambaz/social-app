import{d as P,h as T,r as n,o as c,c as f,b as t,a as m,n as r,m as _,w as U,g as y,f as S,x as R,B as j,L as q,_ as D}from"./index.d5a01e50.js";import{c as G}from"./loader.624a21b3.js";import{I as B}from"./Input.9ac78327.js";import{B as H}from"./Button.cdf16ad4.js";var J=/^[-!#$%&'*+\/0-9=?A-Z^_a-z{|}~](\.?[-!#$%&'*+\/0-9=?A-Z^_a-z`{|}~])*@[a-zA-Z0-9](-*\.?[a-zA-Z0-9])*\.[a-zA-Z](-?[a-zA-Z0-9])+$/,K=function(o){if(!o||o.length>254)return!1;var h=J.test(o);if(!h)return!1;var v=o.split("@");if(v[0].length>64)return!1;var u=v[1].split(".");return!u.some(function(i){return i.length>63})};const M={class:"signup"},O={key:0,class:"info"},Q={key:0,class:"info"},W={key:0,class:"info"},X=R("signup"),Y=P({__name:"SignupView",setup(o){const h=j(),v=T(),u=n({limit:0,current:0,value:"",type:"single"}),i=n({limit:0,current:0,value:"",type:"single"}),w=n({limit:0,current:0,value:"",type:"single"}),x=G(),d=n(!1),p=n(!1),g=n(!1),e=n({usertagLength:!0,usertagCharacters:!1,passwordLength:!0,emailValid:!0}),I=()=>{const a=u.value.value,s=i.value.value,l=w.value.value;x.value.wait(v.signup(a,s,l))},C=()=>e.value.usertagCharacters||e.value.usertagLength,L=()=>e.value.emailValid,V=()=>e.value.passwordLength,b=()=>{const a=u.value.value;e.value.usertagLength=a.length<3||a.length>16,e.value.usertagCharacters=!/^[a-z0-9]*$/.test(a)},k=()=>{const a=i.value.value;e.value.emailValid=!K(a)},z=()=>{const a=w.value.value;e.value.passwordLength=a.length<8},$=()=>{d.value=!0},E=()=>{d.value=!1},A=()=>{p.value=!0},F=()=>{p.value=!1},Z=()=>{g.value=!0},N=()=>{g.value=!1};return(a,s)=>(c(),f("div",M,[t("div",null,[m(B,{type:"text",text:u.value,placeholder:"usertag...",onFocus:$,onBlur:E,class:r({error:C()&&!d.value}),onInput:s[0]||(s[0]=l=>b())},null,8,["text","class"]),d.value?(c(),f("div",O,[t("div",{class:r({error:e.value.usertagLength})},"must be 3 - 16 characters",2),t("div",{class:r({error:e.value.usertagCharacters})},"can contain lowercase letters a-z",2),t("div",{class:r({error:e.value.usertagCharacters})},"can contains numbers 0-9",2)])):_("",!0)]),t("div",null,[m(B,{type:"email",text:i.value,placeholder:"email...",onFocus:A,onBlur:F,class:r({error:L()&&!p.value}),onInput:s[1]||(s[1]=l=>k())},null,8,["text","class"]),p.value?(c(),f("div",Q,[t("div",{class:r({error:e.value.emailValid})},"must be valid",2)])):_("",!0)]),t("div",null,[m(B,{type:"password",text:w.value,placeholder:"password...",onFocus:Z,onBlur:N,class:r({error:V()&&!g.value}),onInput:s[2]||(s[2]=l=>z())},null,8,["text","class"]),g.value?(c(),f("div",W,[t("div",{class:r({error:e.value.passwordLength})},"must be at least 8 characters",2)])):_("",!0)]),m(H,{onClick:s[3]||(s[3]=l=>I()),disabled:y(x).status},{default:U(()=>[X]),_:1},8,["disabled"]),t("span",{class:"text",onClick:s[4]||(s[4]=l=>y(h).push("/login"))},"i already have an account"),y(x).status?(c(),S(q,{key:0})):_("",!0)]))}});const re=D(Y,[["__scopeId","data-v-098113be"]]);export{re as default};
